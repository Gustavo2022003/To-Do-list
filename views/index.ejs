<%- include("partials/header.ejs") %>

<body>

    <div class="container">
        <h1 class="title">To do list</h1>
        <br>

        <form action="/submit" method="POST">

            <div class="postTextArea">
                <textarea name="textArea" id="textArea" class="textArea center" placeholder="Description" autofocus required></textarea>
            </div>

            <div class="postBtnDiv">
                <input type="text" placeholder="Title" class="textInput" id="title" name="title" required>
                <button type="submit" class="postBtn">Post</button>
            </div>
        </form>

        <% if (locals.posts) { %>
            <% posts.forEach((post, index) => { %>
                <%- include("partials/post.ejs", { post: post, postIndex: index }) %>
            <% }); %>
        <% } else { %>
            <p>Não há nenhum post.</p>
        <% } %>        

    </div>
    
    <%- include("partials/footer.ejs") %>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
